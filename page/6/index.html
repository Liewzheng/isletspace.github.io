<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="next-config" data-name="main" type="application/json">{&quot;hostname&quot;:&quot;islet.space&quot;,&quot;root&quot;:&quot;&#x2F;&quot;,&quot;images&quot;:&quot;&#x2F;images&quot;,&quot;scheme&quot;:&quot;Gemini&quot;,&quot;version&quot;:&quot;8.3.0&quot;,&quot;exturl&quot;:false,&quot;sidebar&quot;:{&quot;position&quot;:&quot;left&quot;,&quot;display&quot;:&quot;post&quot;,&quot;padding&quot;:18,&quot;offset&quot;:12},&quot;copycode&quot;:false,&quot;bookmark&quot;:{&quot;enable&quot;:false,&quot;color&quot;:&quot;#222&quot;,&quot;save&quot;:&quot;auto&quot;},&quot;fancybox&quot;:false,&quot;mediumzoom&quot;:false,&quot;lazyload&quot;:false,&quot;pangu&quot;:false,&quot;comments&quot;:{&quot;style&quot;:&quot;tabs&quot;,&quot;active&quot;:null,&quot;storage&quot;:true,&quot;lazyload&quot;:false,&quot;nav&quot;:null},&quot;motion&quot;:{&quot;enable&quot;:true,&quot;async&quot;:false,&quot;transition&quot;:{&quot;post_block&quot;:&quot;fadeIn&quot;,&quot;post_header&quot;:&quot;fadeInDown&quot;,&quot;post_body&quot;:&quot;fadeInDown&quot;,&quot;coll_header&quot;:&quot;fadeInLeft&quot;,&quot;sidebar&quot;:&quot;fadeInUp&quot;}},&quot;prism&quot;:false,&quot;i18n&quot;:{&quot;placeholder&quot;:&quot;Searching...&quot;,&quot;empty&quot;:&quot;We didn&#39;t find any results for the search: ${query}&quot;,&quot;hits_time&quot;:&quot;${hits} results found in ${time} ms&quot;,&quot;hits&quot;:&quot;${hits} results found&quot;}}</script>
<meta name="description" content="笔记分享的旮旯孤岛而已">
<meta property="og:type" content="website">
<meta property="og:title" content="Coder的孤岛">
<meta property="og:url" content="http://islet.space/page/6/index.html">
<meta property="og:site_name" content="Coder的孤岛">
<meta property="og:description" content="笔记分享的旮旯孤岛而已">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Liewzheng">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://islet.space/page/6/">



<script class="next-config" data-name="page" type="application/json">{&quot;sidebar&quot;:&quot;&quot;,&quot;isHome&quot;:true,&quot;isPost&quot;:false,&quot;lang&quot;:&quot;en&quot;,&quot;comments&quot;:&quot;&quot;,&quot;permalink&quot;:&quot;&quot;,&quot;path&quot;:&quot;page&#x2F;6&#x2F;index.html&quot;,&quot;title&quot;:&quot;&quot;}</script>

<script class="next-config" data-name="calendar" type="application/json">&quot;&quot;</script>
<title>Coder的孤岛</title><script src="/js/config.js"></script>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Coder的孤岛</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">islet of the coder</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-文章"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>文章</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Liewzheng</p>
  <div class="site-description" itemprop="description">笔记分享的旮旯孤岛而已</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">68</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">134</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="mailto:liewzheng@qq.com" title="E-Mail → mailto:liewzheng@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://islet.space/2019/02/22/Linux/ShadowsocksR/2019-02-22-Beyond%20the%20Wall/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Liewzheng">
      <meta itemprop="description" content="笔记分享的旮旯孤岛而已">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Coder的孤岛">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/02/22/Linux/ShadowsocksR/2019-02-22-Beyond%20the%20Wall/" class="post-title-link" itemprop="url">Beyond the Wall</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-02-22 22:00:00" itemprop="dateCreated datePublished" datetime="2019-02-22T22:00:00+08:00">2019-02-22</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-05-20 22:47:25" itemprop="dateModified" datetime="2021-05-20T22:47:25+08:00">2021-05-20</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>本文几乎九成都是参考链接中的文章的摘写，很多前辈们都写得很好了，但是为了更好的适应现在的网络环境，还是做适当调整和补充说明。</p>
<p>基础解释部分，完全转自前辈 <strong>@ThomasXu</strong> 的文章《<a target="_blank" rel="noopener" href="https://medium.com/@thomas_summon/%E6%B5%85%E8%B0%88vpn-vps-proxy%E4%BB%A5%E5%8F%8Ashadowsocks%E4%B9%8B%E9%97%B4%E7%9A%84%E8%81%94%E7%B3%BB%E5%92%8C%E5%8C%BA%E5%88%AB-b0198f92db1b">浅谈vpn、vps、Proxy以及shadowsocks之间的联系和区别</a>》。</p>
<p>注意，本文不适合完全小白的受众阅读！实践操作部分，需要有一定的Linux基础和网络知识。</p>
<p>亲自画了个图，示意墙以外的协议和墙以内的协议。<br><img src="http://uk-liewzheng-blog-pic.oss-eu-west-1.aliyuncs.com/2019/02/22/Beyond_the_Wall/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E5%8D%8F%E8%AE%AE%E7%90%86%E8%A7%A3.jpg"></p>
<h1 id="基础解释"><a href="#基础解释" class="headerlink" title="基础解释"></a>基础解释</h1><h2 id="GFW"><a href="#GFW" class="headerlink" title="GFW"></a>GFW</h2><p>如果有机会，可以搜一下<strong>GFW</strong>，此处不做解释。</p>
<p>GFW实现网络封锁的手段主要有两种：<strong>DNS劫持</strong>和<strong>IP封锁</strong>（除此之外，还有<strong>DNS污染</strong>和<strong>关键词过滤</strong>，此处不做解释）。</p>
<ul>
<li><p><strong>DNS劫持</strong>：IP是网络上各主机的“地址”，要想访问“别人家”，当然得要有地址。但IP是一串数字，是给电脑看的，人记起来太麻烦，所以就有了域名Domain（也就是我们常说的网址）和 DNS（网域名称系统，Domain Name System）。域名是一串英文字符串，方便人记忆。DNS将域名和IP关联起来，形成映射及映射表。用户访问域名所在的目标网站前，将域名发给DNS服务器询问这对映射关系，拿到对应的IP后就可以在茫茫网海中找到那个“她”了。而GFW所做的就是站在用户和DNS服务器之间，破坏它们的正常通讯，并向用户回传一个假IP。用户拿不到真正的IP，自然也就访问不到本想访问的网站了。DNS劫持是GFW早期唯一的技术手段，所以那个时候的用户通过修改Hosts文件的方式就可以零成本突破封锁了。</p>
</li>
<li><p><strong>IP封锁</strong>：DNS劫持之后，GFW引入了IP封锁，直接锁住了访问目标网站的去路，用户发往被封锁ip的任何数据都会被墙截断。这个时候，依靠类似于修改Hosts文件这种低成本方法突破封锁就显得有些天方夜谭了。那么，解决办法是什么呢？答案是：在第三方架设翻墙服务器，中转与目标服务器间的来往流量。目前为止，GFW采用的是黑名单模式，像Google、Facebook这种在黑名单上的网站的ip无法访问，而不在黑名单上的第三方不记名ip可以。于是，一切就很明朗了，我们目前几乎所有的翻墙手段都是基于上述原理实现的，VPN是，ShadowSocks是，还有一些比较冷门的（比如V2Ray）同样如此，只不过它们的技术细节不同（这个我们不会深入）。</p>
</li>
</ul>
<h2 id="VPN"><a href="#VPN" class="headerlink" title="VPN"></a>VPN</h2><p>VPN，全称“虚拟私人网络（Virtual Private Network）”，是一种加密通讯技术。VPN是一个统称，它有很多的具体实现，比如PPTP、L2TP、IPSec和openvpn。vpn出现远早于GFW，所以它不是为了翻墙而生的，它被设计出来的目的是数据传输安全和网络匿名。</p>
<p>而既然不是为翻墙而生，那从翻墙的角度上讲，VPN协议就存在诸多问题。最严重的一个就是流量特征过于明显。墙目前已经能够精确识别绝大部分VPN协议的流量特征并给予封锁，所以，VPN这种翻墙方式基本已经废了。</p>
<p>但即便如此，VPN作为过去很长一段时间最主流最热门最常用最为人所知的翻墙手段，已然成为翻墙的代名词。即便是VPN已不再常用的今天，当人们谈及翻墙的时候，说得最多的仍是：“你有什么好用的VPN吗？”。</p>
<h2 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h2><p>Proxy（代理）又分为<strong>正向代理</strong>和<strong>反向代理</strong>。翻墙所用的代理都是正向代理。</p>
<h3 id="反向代理"><a href="#反向代理" class="headerlink" title="反向代理"></a>反向代理</h3><p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86"><strong>反向代理</strong></a>的作用主要是为服务器做缓存和负载均衡，此处不做解释。</p>
<p>另外，Shadowsocks里也有负载均衡的概念，但Shadowsocks的负载均衡和反向代理的负载均衡不是一个概念。</p>
<p>反向代理的负载均衡是指：在多个真正的服务器前架设一个代理服务器，用户所有的数据都发给代理服务器，然后代理服务器根据各个真实服务器的状态将数据转发给一个任务较少的服务器处理。这样，服务商既可以架设多个服务器分担任务、减轻压力，用户也只要记一个域名或ip就可以了。</p>
<p>Shadowsocks的负载均衡是指：每隔一段时间更改一次翻墙服务器，将用户的数据平均发给多个不同的翻墙服务器，以避免发往某一个翻墙服务器的流量过多。</p>
<h3 id="正向代理"><a href="#正向代理" class="headerlink" title="正向代理"></a>正向代理</h3><p>正向代理主要有<strong>HTTP</strong>、<strong>HTTP over TLS(HTTPS)<strong>、</strong>Socks</strong>、<strong>Socks over TLS</strong>几种。</p>
<p>其中，HTTP和Socks无法用于翻墙，HTTPS和Socks over TLS可以用于翻墙。不过，Socks over TLS几乎没人用，我们这里就不多说了。</p>
<p>Proxy的历史同样早于GFW，它最早被设计出来的目的当然也不是翻墙。正向代理最主要的目的和VPN差不多，都是用于匿名，但HTTP和Socks不能加密，只能匿名，HTTPS既可以匿名，也可以用于加密通信。</p>
<p>从理论上讲，四种代理协议都可以通过“用户先将数据发给代理服务器，再由代理服务器转发给目的服务器”的方法达到翻墙目的。但由于HTTP和Socks都是明文协议，GFW可以通过检查数据包内的内容得知用户的真实意图，进而拦截数据包。所以，HTTP和Socks一般只用作本地代理。而HTTPS协议是加密通讯，GFW无法得知数据包内的真实内容，类似于<strong>关键词过滤</strong>的手段无法施展。</p>
<h4 id="Socks"><a href="#Socks" class="headerlink" title="Socks"></a>Socks</h4><p><strong><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/SOCKS">Socks</a></strong> 代理与其他类型的代理不同，它只是简单地传递数据包，而并不关心是何种应用协议，既可以是HTTP请求，所以SOCKS代理服务器比其他类型的代理服务器速度要快得多。</p>
<p>Socks代理又分为<strong>Socks4</strong> 和 <strong>Socks5</strong> ，二者不同的是Socks4代理只支持TCP协议，而Socks5代理则既支持TCP协议又支持UDP协议，还支持各种身份验证机制、服务器端域名解析等。Socks4能做到的Socks5都可得到，但Socks5能够做到的Socks4则不一定能做到，比如我们常用的聊天工具QQ在使用代理时就要求用Socks5代理，因为它需要使用UDP协议来传输数据.</p>
<h4 id="HTTPS和V2Ray"><a href="#HTTPS和V2Ray" class="headerlink" title="HTTPS和V2Ray"></a>HTTPS和V2Ray</h4><ul>
<li>HTTPS代理最大的缺点就是配置复杂。即便能用默认参数就用默认参数，用户自己只作最低限度的配置，对新手而言，这也是一个无比痛苦的过程。更别说，想要正常使用HTTPS代理，你还要购买域名和证书这些，非常麻烦。所以，即便是在shadowsocks出现之前，HTTPS代理也没在大陆流行起来。HTTPS代理只能转发TCP流量，对UDP无能为力。</li>
<li>V2Ray的VMess over tls也许能和HTTPS代理媲美。但V2Ray存在的时间较短、使用者较少、社区也没有HTTPS代理活跃（从全球范围上看）。相比于HTTPS代理，VMess协议潜在的安全漏洞可能要多。这也是v2ray的小众的主要原因之一（另一个是用户没有从shadowsocks迁移到V2Ray的动力），它的配置同样相当复杂。</li>
</ul>
<p><strong>HTTPS代理的流量特征和我们平时访问网站时所产生的HTTPS流量几乎一摸一样，GFW无法分辨，稳定性爆表。</strong></p>
<p>理论上讲，HTTPS代理无论是安全性还是在隐匿性上，都要比目前最为流行的Shadowsocks好。事实上，在所有已知的翻墙协议中，无论是VPN协议，还是代理协议，它应该都是最好的。</p>
<p>这里推荐刘亚晨先生的一篇文章「<a target="_blank" rel="noopener" href="https://medium.com/@Blankwonder/%E5%90%84%E7%A7%8D%E5%8A%A0%E5%AF%86%E4%BB%A3%E7%90%86%E5%8D%8F%E8%AE%AE%E7%9A%84%E7%AE%80%E5%8D%95%E5%AF%B9%E6%AF%94-1ed52bf7a803">各种加密代理协议的简单对比</a>」。</p>
<h2 id="VPS"><a href="#VPS" class="headerlink" title="VPS"></a>VPS</h2><p>VPS（Virtual private server，虚拟专用服务器）是由VPS提供商维护，租用给站长使用的“不会关机的电脑”。vps不是一台台独立的电脑，而是将一台巨型服务器通过虚拟化技术分割成若干台看似独立的服务器。这台巨型服务器不间断运行，被分割出来的小服务器也跟着不停的运作，站长租用其中一台小服务器，搭载上自己的站点，就可以等着用户访问了。</p>
<p>Q: VPS和VPN、Proxy以及我们后面会说的Shadowsocks有什么关系呢？<br>A: 很简单，VPS可以用来搭建网站，当然也可以用来承载VPN服务器、代理服务器或是Shadowsocks的服务器啦。建站固然是VPS最主要的作用，但绝对不是它唯一的作用，既然VPS本质上也是电脑，那电脑能做的事它当然也能做。</p>
<h2 id="Shadowsocks"><a href="#Shadowsocks" class="headerlink" title="Shadowsocks"></a>Shadowsocks</h2><p><a target="_blank" rel="noopener" href="http://shadowsocks.org/en/index.html"><strong>Shadowsocks(SS)</strong></a>是既可以指一种基于<strong>Socks5</strong>代理方式的加密传输协议，也可以指实现这个协议的各种开发包。目前包使用 Python、C、C++、C#、Go 等编程语言开发，大部分主要实现（iOS 平台的除外）采用 Apache 许可证、GPL、MIT 许可证等多种自由软件许可协议开放源代码。</p>
<p>在Shadowsocks之前，墙内网民主要依靠寻找现成的技术实现翻墙。比如VPN、HTTPS、TOR的中继网桥以及之后的MEEK插件等等，虽然也有自己的技术，比如一种依靠Google隐藏IP实现翻墙的技术（名字忘了）,但毕竟难成大器，再加上GFW逐渐加大对VPN的干扰，人们迫切需要一种简单可靠的技术来抵御GFW的进攻。</p>
<p>于是，大概是在2013年吧（具体时间我也不太清楚），@clowwindy带着他的shadowsocks横空出世。</p>
<p>Shadowsocks同样是一种代理协议，但是作为@clowwindy为国人设计的专门用于翻墙的代理协议，相对于VPN，Shadowsocks有着极强的隐匿性；相对于HTTP代理，Shadowsocks提供了较为完善的加密方案，虽然比不上HTTPS代理和VPN，但使用的也是成熟的工业级的加密算法，普通个人用户完全不用顾虑；相对于HTTPS代理，Shadowsocks的安装配置更为简单，中文社区更为活跃，中文文档教程更完善，更符合中国国情。</p>
<p>Shdadowsocks最初的版本是由@clowwindy使用Python（一种目前非常热门的脚本编程语言）实现的。所以clowwindy的版本被称为Python版。shadowsocks有点名气之后，不同的开发者使用不同的编程语言为其写了很多分支版本。比如:</p>
<ul>
<li>@cyfdecyf开发维护的Go版本。</li>
<li>@madeye开发维护的libev版本（由纯C语言编写，基于libev库开发）。</li>
<li>@librehat开发维护的c++版。</li>
<li>@zhou0开发维护的Perl版。</li>
</ul>
<p>这些版本的安装使用指南都可以在shadowsocks的官网上查阅。</p>
<p>2015年，clowwindy因喝茶事件被迫停止了shadowsocks的维护，并删除了其开源在GitHub上的代码，Python版就此停滞。但其它版本仍处于维护更新中。其中，更新最频繁，新技术跟进最快的是由@madeye维护的libev版本。这里有必要说明下，目前，shadowsocks协议（请区分“shadowsocks协议”和“shadowsocks协议的具体实现”这两者的区别）是由shadowsocks社区内的成员共同维护，协议上任何新改进都是社区成员共同商讨的结果。但对这些变化，不同的版本的shadowsocks跟进速度不同。而跟进速度最快的就是我上面说的libev版。无论是SIP007确认的ADEA Ciphers（一种同时进行认证和加密的算法），还是SIP003引进的simple-obfs（tor开发的一种混淆插件），shadowsocks-libev都是最早引入自己软件的。</p>
<p>Shadowsocks 分为服务器端和客户端，在使用之前，需要先将服务器端部署到服务器上面，然后通过客户端连接并创建本地代理。</p>
<h2 id="ShadowsockR"><a href="#ShadowsockR" class="headerlink" title="ShadowsockR"></a>ShadowsockR</h2><p><strong>ShadowsocksR(SSR)</strong> 是 <strong>@breakwa11</strong> 发起的Shadowsocks分支，在Shadowsocks的基础上增加了一些数据混淆方式，称修复了部分安全问题并可以提高QoS优先级。后来贡献者@Librehat 也为 Shadowsocks 补上了一些此类特性，甚至增加了类似 Tor 的可插拔传输层功能。</p>
<p>因为Shadowsocks在普及之后最大的缺点就是加密流量过多，防火墙一旦检测到你的加密流量过多之后，就会进一步开始限制你的IP。因此不适合长期使用，而ShadowsocksR在Shadowsocks的基础上加上了Potocol和Obfs功能，能够进一步伪装成HTTPS流量，让防火墙检测到你的难度加大，安全和稳定性都更高。如果你用SS，那么你被检测到的时间可能需要几个月，短则几天，甚至是几分钟（曾经发生过，一下子就被截胡了），但是SSR能更稳定。</p>
<h2 id="VMess"><a href="#VMess" class="headerlink" title="VMess"></a>VMess</h2><p><strong><a target="_blank" rel="noopener" href="https://www.v2ray.com/chapter_02/protocols/vmess.html">VMess</a></strong> 协议是由 V2Ray 原创并使用于 V2Ray 的加密传输协议，如同 Shadowsocks 一样为了对抗墙的深度包检测而研发的。在 V2Ray 上客户端与服务器的通信主要是通过 VMess 协议通信。V2Ray 是 Project V 下的一个工具。Project V 是一个包含一系列构建特定网络环境工具的项目，而 V2Ray 属于最核心的一个。从时间上来说，先有 V2Ray 才有 Project V。Project V还包含其他的传输加密协议，如Shadowsocks和socks。</p>
<p>VMess 依赖于系统时间，请确保使用 V2Ray 的系统 UTC 时间误差在 90 秒之内，时区无关。</p>
<p>在 Linux 系统中可以安装ntp服务来自动同步系统时间。</p>
<h1 id="部署实践"><a href="#部署实践" class="headerlink" title="部署实践"></a>部署实践</h1><p>请见文章《<a target="_blank" rel="noopener" href="https://blog.liewzheng.cn/2019/02/14/Linux/ShadowsocksR/SSR%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/">SSR简易教程</a>》</p>
<h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><ol>
<li>《<a target="_blank" rel="noopener" href="https://medium.com/@thomas_summon/%E6%B5%85%E8%B0%88vpn-vps-proxy%E4%BB%A5%E5%8F%8Ashadowsocks%E4%B9%8B%E9%97%B4%E7%9A%84%E8%81%94%E7%B3%BB%E5%92%8C%E5%8C%BA%E5%88%AB-b0198f92db1b">浅谈vpn、vps、Proxy以及shadowsocks之间的联系和区别</a>》</li>
<li>《<a target="_blank" rel="noopener" href="https://my.oschina.net/aiguozhe/blog/127279">http,socks4,socks5代理的区别</a>》</li>
<li>《<a target="_blank" rel="noopener" href="https://toutyrater.github.io/basic/vmess.html">VMess协议·V2Ray配置指南|V2Ray白话文教程</a>》</li>
<li>《<a target="_blank" rel="noopener" href="https://www.cnblogs.com/kreo/p/4368811.html">CentOS7安装iptables防火墙</a>》</li>
<li>《<a target="_blank" rel="noopener" href="https://walesexcitedmei.github.io/2018/11/26/SSR-ShadowsocksR-%E9%85%8D%E7%BD%AE%E5%8F%8A%E4%BD%BF%E7%94%A8/">ShadowsocksR 配置及使用</a>》</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://islet.space/2019/02/14/Linux/ShadowsocksR/2019-02-14-SSR%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Liewzheng">
      <meta itemprop="description" content="笔记分享的旮旯孤岛而已">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Coder的孤岛">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/02/14/Linux/ShadowsocksR/2019-02-14-SSR%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/" class="post-title-link" itemprop="url">SSR简易教程</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-02-14 12:00:00" itemprop="dateCreated datePublished" datetime="2019-02-14T12:00:00+08:00">2019-02-14</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2019-02-22 21:59:09" itemprop="dateModified" datetime="2019-02-22T21:59:09+08:00">2019-02-22</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>本文在参考了各家文章之所长的基础上，亲自实践折腾了1个小时左右，成功搭建科学上网之路。(并不图文并茂呢~)</p>
<p>首先，本文应用到的工具有Vultr、Xshell、Terminal（windows平台下为cmd工具）、和SS（ShadowSocks）连接器,下文会对工具进行介绍。</p>
<h1 id="一、工具介绍"><a href="#一、工具介绍" class="headerlink" title="一、工具介绍"></a>一、工具介绍</h1><h2 id="1-Vultr"><a href="#1-Vultr" class="headerlink" title="1. Vultr"></a>1. Vultr</h2><p>首先了解一下VPS的概念。<strong>VPS</strong>即Virtual private server，虚拟专享服务器，是指将一台服务器分割成多个虚拟专享服务器的服务。</p>
<p>Vultr是国外的一个大型服务器提供商，可以低价租用他们的虚拟专享服务器。然后通过让我们自己的设备连接到他们的虚拟专享服务器来达到科学上网的目的。（PS：因为他们的虚拟专享服务器在国外）</p>
<p>也有其他的VPS提供商，见文章《<a target="_blank" rel="noopener" href="https://www.vpser.net/ten-dollars-vps">10美元以下国内VPS/美国VPS推荐</a>》。</p>
<h2 id="2-Xshell-和-Terminal"><a href="#2-Xshell-和-Terminal" class="headerlink" title="2. Xshell 和 Terminal"></a>2. Xshell 和 Terminal</h2><p>Xshell是个开启SSH服务工具。<strong>SSH</strong>即Secure Shell，是是一种加密的网络传输协议，可在不安全的网络中为网络服务提供安全的传输环境。SSH通过在网络中创建安全隧道来实现SSH客户端与服务器之间的连接。</p>
<p>Terminal是个命令执行终端，跟Windows下的command窗口同理。我们只需要用Terminal执行一句<code>ping 0.0.0.0</code>而已。（0.0.0.0 更换为你部署的服务器地址）</p>
<h2 id="3-SSR"><a href="#3-SSR" class="headerlink" title="3. SSR"></a>3. SSR</h2><p>见文章《<a target="_blank" rel="noopener" href="http://blog.liewzheng.cn/2019/02/22/Linux/ShadowsocksR/Beyond%20the%20Wall/">Beyond the Wall</a>》。</p>
<h1 id="二、实践步骤"><a href="#二、实践步骤" class="headerlink" title="二、实践步骤"></a>二、实践步骤</h1><p>本篇文章也算是给自己下次部署SSR一个笔记，提醒自己有哪些步骤。</p>
<h2 id="1-下载和安装SSR"><a href="#1-下载和安装SSR" class="headerlink" title="1. 下载和安装SSR"></a>1. 下载和安装SSR</h2><p>提供英文和中文两个版本，都分别有三条语句：<code>wget *****</code>，<code>chmod *****</code> 和 <code>./*****</code>。步骤分别是下载<code>*****.sh</code>文件，提升该文件的权限 和 运行该文件。</p>
<p>注意：如提示<code>wget not found</code> ， 请先执行<code>yum install -y wget</code>。（CentOS下执行，其他系统请自行Google）</p>
<h3 id="English-Edition"><a href="#English-Edition" class="headerlink" title="English Edition"></a>English Edition</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;teddysun&#x2F;shadowsocks_install&#x2F;master&#x2F;shadowsocksR.sh</span><br><span class="line">chmod +x shadowsocksR.sh</span><br><span class="line">.&#x2F;shadowsocksR.sh 2&gt;&amp;1 | tee shadowsocksR.log</span><br></pre></td></tr></table></figure>

<h3 id="Chinese-Edition"><a href="#Chinese-Edition" class="headerlink" title="Chinese Edition"></a>Chinese Edition</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;ToyoDAdoubi&#x2F;doubi&#x2F;master&#x2F;ssr.sh </span><br><span class="line">chmod +x ssr.sh </span><br><span class="line">.&#x2F;ssr.sh</span><br></pre></td></tr></table></figure>

<p>其实我也知道我很懒，也知道以下很多文章都是看不到的，但我不想写了，非常懒地放个链接好了，最怕的是写这些怕被请喝茶。</p>
<h2 id="2-BBR加速"><a href="#2-BBR加速" class="headerlink" title="2. BBR加速"></a>2. BBR加速</h2><p>此步骤100%的概率建议用户操作，虽然不操作也能用，原因还是看文章吧。</p>
<p>《<a href="%E4%BD%BF%E7%94%A8BBR%E4%B8%80%E9%94%AE%E8%84%9A%E6%9C%AC%E4%B8%BA%E4%BD%A0%E7%9A%84CentOS/Debian/Ubuntu%E7%B3%BB%E7%BB%9F%E5%8A%A0%E9%80%9F">使用BBR一键脚本为你的CentOS/Debian/Ubuntu系统加速</a>》</p>
<h2 id="3-添加多用户（可选）"><a href="#3-添加多用户（可选）" class="headerlink" title="3. 添加多用户（可选）"></a>3. 添加多用户（可选）</h2><p>centOS使用的防火墙是firewalld不是iptables，添加完多用户之后要开启对应的端口。</p>
<p>《<a target="_blank" rel="noopener" href="https://www.lutizi.com/ssr/">Linux VPS主机搭建ShadowsocksR(ssr)多用户一键脚本带Web查询面板</a>》</p>
<p>《<a target="_blank" rel="noopener" href="https://www.cnblogs.com/kreo/p/4368811.html">CentOS7安装iptables防火墙</a>》</p>
<h2 id="4-添加SSH服务端口（可选）"><a href="#4-添加SSH服务端口（可选）" class="headerlink" title="4. 添加SSH服务端口（可选）"></a>4. 添加SSH服务端口（可选）</h2><p>虽然是可选，但我还是100%建议这么做。为了防止被GFW屏蔽22端口，多添加几个端口备用，添加端口的方法见上面的文章。</p>
<p>《<a target="_blank" rel="noopener" href="https://sebastianblade.com/how-to-modify-ssh-port-in-centos7/">怎样修改 CentOS 7 SSH 端口</a>》</p>
<h2 id="5-检查端口"><a href="#5-检查端口" class="headerlink" title="5. 检查端口"></a>5. 检查端口</h2><p>在CentOS下查看端口需要先安装Net-tools: <code>yum install net-tools</code>，查看时使用<code>netstat -ntlp</code>。其他用法请参详：</p>
<p>《<a target="_blank" rel="noopener" href="https://www.cnblogs.com/ggjucheng/archive/2012/01/08/2316661.html">Linux netstat命令详解</a>》</p>
<h2 id="6-Google-Scholar（可选）"><a href="#6-Google-Scholar（可选）" class="headerlink" title="6. Google Scholar（可选）"></a>6. Google Scholar（可选）</h2><p>如果无法打开Google Scholar，可以尝试阅读以下文章。</p>
<p>《<a target="_blank" rel="noopener" href="https://cao0507.github.io/2018/12/17/%E8%A7%A3%E5%86%B3vpn%E6%97%A0%E6%B3%95%E6%89%93%E5%BC%80%E8%B0%B7%E6%AD%8C%E5%AD%A6%E6%9C%AF%E7%9A%84%E9%97%AE%E9%A2%98/">解决 VPN 无法打开谷歌学术的问题</a>》</p>
<h2 id="7-伪装SSR（可选）"><a href="#7-伪装SSR（可选）" class="headerlink" title="7. 伪装SSR（可选）"></a>7. 伪装SSR（可选）</h2><p>《<a target="_blank" rel="noopener" href="https://www.liuboping.com/%E5%87%A0%E6%AD%A5%E6%89%BE%E5%87%BAss%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E9%80%9F%E5%BA%A6%E6%85%A2%E7%9A%84%E5%8E%9F%E5%9B%A0/">几步找出ss科学上网速度慢的原因</a>》</p>
<p>《<a target="_blank" rel="noopener" href="https://www.liuboping.com/ss%E9%80%9F%E5%BA%A6%E6%85%A2%E6%9C%80%E5%A4%A7%E7%9A%84%E5%8F%AF%E8%83%BD%E6%98%AF%E8%A2%AB%E8%BF%90%E8%90%A5%E5%95%86qos%E4%BA%86/">SS速度慢——最大的可能是被运营商QoS了</a>》</p>
<h2 id="8-KCPTun（可选）"><a href="#8-KCPTun（可选）" class="headerlink" title="8. KCPTun（可选）"></a>8. KCPTun（可选）</h2><p>倒腾过，倒也不难，但是下载另外一个客户端麻烦，我就不弄了。推荐操作指数是50%。</p>
<p>《<a target="_blank" rel="noopener" href="https://www.gblm.net/209.html">一步一步教你用Kcptun给Shadowsocks加速！看YouTube1080P一点都不卡！</a>》</p>
<p>另外，不介绍VMess的使用方法了，感兴趣可以自行Google。<br>可以多部署几个Server（价格也就上去了），然后启用SSR的负载均衡，降低与某个Sever IP的通信数据过大，导致被防火墙封死。</p>
<h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><ol>
<li>《<a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000015558387">超详细 Vultr（VPS）搭建 SS / 新手图文指导教程</a>》</li>
<li>《<a target="_blank" rel="noopener" href="https://blog.huihut.com/2016/12/03/BandwagonShadowsocksServer/">搬瓦工Shadowsocks安装及配置多用户(服务端)</a>》</li>
<li>《<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Shadowsocks">Shadowsocks</a>》</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://islet.space/2019/02/13/Others/%E7%A1%AC%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%B5%8B%E8%AF%95/%E7%A1%AC%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%B5%8B%E8%AF%95%E6%9C%AF%E8%AF%AD%E6%95%B4%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Liewzheng">
      <meta itemprop="description" content="笔记分享的旮旯孤岛而已">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Coder的孤岛">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/02/13/Others/%E7%A1%AC%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%B5%8B%E8%AF%95/%E7%A1%AC%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%B5%8B%E8%AF%95%E6%9C%AF%E8%AF%AD%E6%95%B4%E7%90%86/" class="post-title-link" itemprop="url">硬件系统测试术语整理</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-02-13 15:30:00" itemprop="dateCreated datePublished" datetime="2019-02-13T15:30:00+08:00">2019-02-13</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2019-02-14 15:13:16" itemprop="dateModified" datetime="2019-02-14T15:13:16+08:00">2019-02-14</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/InternetOfThings/" itemprop="url" rel="index"><span itemprop="name">InternetOfThings</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="关于测试"><a href="#关于测试" class="headerlink" title="关于测试"></a>关于测试</h1><p>测试的目的决定了如何去组织测试。如果测试的目的是为了尽可能多的找出错误，那么测试就应该直接针对设计比较复杂的部分，或是以前出错比较多的位置。如果测试的目的是为了给最终用户提供具有一定可信度的质量评价，那么测试就应该直接针对在实际应用中经常用到的商业假设。</p>
<p>测试并不仅仅是为了要找出错误。通过分析错误产生的原因和错误的分布特征，可以帮助项目管理者发现当前设计过程的缺陷，以便改进。同时，这种分析也能帮助测试人员 设计出有针对性的检测方法，改善测试的有效性。</p>
<p>没有发现错误的测试也是有价值的，完整的测试时评定测试质量的一种方法。</p>
<p>硬件系统测试分为 <strong>软件测试</strong> 及 <strong>硬件测试</strong> 两部分。</p>
<p>软件部分可以依据现行软件测试的流行办法来测试。</p>
<p>硬件测试部分分为 <strong>硬件基础测试</strong> 和 <strong>硬件功能级以上测试</strong> 两部分。即除了测试各项硬件参数性能是否符合设计要求以外，仍需要测量硬件功能及联动特性是否符合要求。</p>
<h1 id="术语"><a href="#术语" class="headerlink" title="术语"></a>术语</h1><h2 id="单元测试"><a href="#单元测试" class="headerlink" title="单元测试"></a>单元测试</h2><p>Unit testing，也称为Module testing（模块测试）。是指对软件中的最小可测试单元进行检查和验证。对于单元测试中单元的含义，一般来说，要根据实际情况去判定其具体含义，如C语言中单元指一个函数，Java里单元指一个类，图形化的软件中可以指一个窗口或一个菜单等。总的来说，单元就是人为规定的最小的被测功能模块。</p>
<p>单元测试是在软件开发过程中要进行的最低级别的测试活动，软件的独立单元将在与程序的其他部分相隔离的情况下进行测试。</p>
<p>经常与单元测试联系起来的另外一些开发活动包括代码走读（Code review)，<strong>静态分析</strong>（Static analysis)和<strong>动态分析</strong>（Dynamic analysis)。<br><strong>静态分析</strong> 就是对软件的源代码进行研读，查找错误或收集一些度量数据，并不需要对代码进行编译和执行。<br><strong>动态分析</strong> 就是通过观察软件运行时的动作，来提供执行跟踪，时间分析，以及测试覆盖度方面的信息。</p>
<h2 id="集成测试"><a href="#集成测试" class="headerlink" title="集成测试"></a>集成测试</h2><p>Assemble testing，也叫 <strong>组装测试</strong> 或 <strong>联合测试</strong> 。在单元测试的基础上，将所有模块按照设计要求（如根据结构图）组装成为子系统或系统，进行集成测试。</p>
<p>实践表明，一些模块虽然能够单独地工作，但并不能保证连接起来也能正常的工作。一些局部反映不出来的问题，在全局上很可能暴露出来。</p>
<h2 id="功能测试"><a href="#功能测试" class="headerlink" title="功能测试"></a>功能测试</h2><p>Functional testing，也称为Behavioral testing（行为测试）和Black Box testing（黑盒测试），根据产品特性、操作描述和用户方案，测试一个产品的特性和可操作行为以确定它们满足设计需求。</p>
<h2 id="系统测试"><a href="#系统测试" class="headerlink" title="系统测试"></a>系统测试</h2><p>System Testing，是对整个系统的测试，将硬件、软件、操作人员看作一个整体，检验它是否有不符合系统说明书的地方。这种测试可以发现系统分析和设计中的错误。如安全测试是测试安全措施是否完善，能不能保证系统不受非法侵入。再例如，压力测试是测试系统在正常数据量以及超负荷量(如多个用户同时存取) 等情况下是否还能正常地工作。</p>
<h2 id="冒烟测试"><a href="#冒烟测试" class="headerlink" title="冒烟测试"></a>冒烟测试</h2><p>Smoke testing，对一个硬件或硬件组件进行更改或修复后，直接给设备加电。如果没有冒烟，则该组件就通过了测试。在软件中，“冒烟测试”这一术语描述的是在将代码更改嵌入到产品的源树中之前对这些更改进行验证的过程。在检查了代码后，冒烟测试是确定和修复软件缺陷的最经济有效的方法。冒烟测试设计用于确认代码中的更改会按预期运行，且不会破坏整个版本的稳定性。</p>
<h2 id="验收测试"><a href="#验收测试" class="headerlink" title="验收测试"></a>验收测试</h2><p>验收测试是部署软件之前的最后一个测试操作。在软件产品完成了单元测试、集成测试和系统测试之后，产品发布之前所进行的软件测试活动。它是技术测试的最后一个阶段，也称为交付测试。验收测试的目的是确保软件准备就绪，并且可以让最终用户将其用于执行软件的既定功能和任务。</p>
<p>检验系统说明书的各项功能与性能是否实现和满足要求。常见的有α测试、β测试，都是由用户进行的。</p>
<h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><p>1.《<a target="_blank" rel="noopener" href="https://zhidao.baidu.com/question/294458045.html">集成测试与联调测试的区别</a>》<br>2.《<a target="_blank" rel="noopener" href="https://blog.csdn.net/u012426327/article/details/78400045">软件测试方法——单元测试、集成测试、系统测试、确认测试</a>》<br>3.《<a target="_blank" rel="noopener" href="http://www.cqvip.com/read/read.aspx?id=32762184">浅谈电子产品的硬件测试技术</a>》</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://islet.space/2019/01/30/Hardware/STM32/2019-01-30-STM32%E5%88%9D%E8%AF%86%E5%8F%8A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Liewzheng">
      <meta itemprop="description" content="笔记分享的旮旯孤岛而已">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Coder的孤岛">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/30/Hardware/STM32/2019-01-30-STM32%E5%88%9D%E8%AF%86%E5%8F%8A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" class="post-title-link" itemprop="url">STM32初识及环境配置(未完待续)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-01-30 19:00:00" itemprop="dateCreated datePublished" datetime="2019-01-30T19:00:00+08:00">2019-01-30</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2019-02-14 15:05:54" itemprop="dateModified" datetime="2019-02-14T15:05:54+08:00">2019-02-14</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/InternetOfThings/" itemprop="url" rel="index"><span itemprop="name">InternetOfThings</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="一、Some-Conception"><a href="#一、Some-Conception" class="headerlink" title="一、Some Conception"></a>一、Some Conception</h1><h2 id="1-ST"><a href="#1-ST" class="headerlink" title="1. ST"></a>1. ST</h2><p>ST是指意法半导体。意法半导体是一家法国-意大利跨国电子和半导体制造商，总部位于瑞士日内瓦。它通常被称为ST，它是欧洲最大的基于收入的半导体芯片制造商。</p>
<h2 id="2-Programing-Method"><a href="#2-Programing-Method" class="headerlink" title="2. Programing Method"></a>2. Programing Method</h2><h3 id="2-1-基于寄存器的编程方式"><a href="#2-1-基于寄存器的编程方式" class="headerlink" title="2.1 基于寄存器的编程方式"></a>2.1 基于寄存器的编程方式</h3><p>“设置寄存器-&gt;操作寄存器-&gt;写用户代码”的编程方式通常被称为“基于寄存器的编程方式”，这种编程方式普遍适用于 51、AVR、PIC 或者 MSP430等平台，STM32 当然也可以通过此方式进行程序编写。<br>“基于寄存器的编程方式”有利于大家更好地对一块单片机设备进行操作，但是 这种方式也有以下几个不足:</p>
<ol>
<li>移植性差。即当你想把STM32F1的程序移植到STM32F0的单片机上面时，由于两者内核已经内部外设有很多不同，因此，需要修改很多地方才能完成移植;</li>
<li>效率低下。由于 STM32整个系列的单片机具有非常多的外设，还有两个8位机从没有过的DMA，因此如果基于寄存器编程时，需要设置的寄存器有很多，需要花很长时间来查询用户手册才能完成。</li>
</ol>
<h3 id="2-2-基于固件库的编程方式"><a href="#2-2-基于固件库的编程方式" class="headerlink" title="2.2 基于固件库的编程方式"></a>2.2 基于固件库的编程方式</h3><p>基于固件库的变成方式是指，把所有STM32单片机的内部资源抽象成诸多函数，通过对这些函数的设置，即可完成相应固件的初始化以及操作。</p>
<h2 id="3-IDE"><a href="#3-IDE" class="headerlink" title="3. IDE"></a>3. IDE</h2><h3 id="3-1-IAR-Embedded-Workbench-for-ARM"><a href="#3-1-IAR-Embedded-Workbench-for-ARM" class="headerlink" title="3.1 IAR Embedded Workbench for ARM"></a>3.1 IAR Embedded Workbench for ARM</h3><p>IAR Embedded Workbench 是一套用于编译和调试嵌入式系统应用程序的开发工具，支持汇编、C和C++语言。它提供完整的集成开发环境，包括工程管理器、编辑器、编译链接工具和C-SPY调试器。IAR Systems以其高度优化的编译器 而闻名。每个C/C++编译器不仅包含一般全局性的优化，也包含针对特定芯片的低级优化，以充分利用您所选芯片的所有特性，确保较小的代码尺寸。IAR Embedded Workbench 能够支持由不同的芯片制造商生产，且种类繁多的8位、16位或32位芯片。</p>
<p>下载链接：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1FhzyGrN0bkCP85pQAy79ug">IAR Embedded Workbench for IAR</a> 提取码：c4pm</p>
<h3 id="3-2-RealView-MDK-ARM"><a href="#3-2-RealView-MDK-ARM" class="headerlink" title="3.2 RealView MDK - ARM"></a>3.2 RealView MDK - ARM</h3><p>RealView MDK开发工具源自德国Keil公司，被全球超过10万的嵌入式开发工程师验证和使用，是ARM公司目前最新推出的针对各种嵌入式处理器的软件开发工具。RealView MDK集成了业内最领先的技术，包括μVision集成开发环境与 RealView编译器。支持ARM7、ARM9和最新的Cortex-M3核处理器，自动配置启动代码，集成Flash烧写模块，强大的Simulation设备模拟，性能分析等功能，与ARM之前的工具包 ADS等相比，RealView编译器的最新版本可将性能改 善超过20%。</p>
<p>下载链接：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/18Ni-4gxaqe-P-SIsGrVDIA">Keil MDK 5.24</a> 提取码：jrqc</p>
<h2 id="4-Debug-Method"><a href="#4-Debug-Method" class="headerlink" title="4. Debug Method"></a>4. Debug Method</h2><p>STM32支持<strong>ISP</strong>和<strong>JTAG/SWD</strong>两种调试方式。</p>
<h3 id="4-1-1-ISP"><a href="#4-1-1-ISP" class="headerlink" title="4.1.1 ISP"></a>4.1.1 ISP</h3><p>In-System Programmability，即在线系统编程。使用时需要先设置 <strong>BOOT0</strong> 和 <strong>BOOT1</strong> 两脚，然后通过串口 1进行程序烧写，烧写的软件为<strong>Flash_Loader_Demonstrator</strong>。此方法的好处是，可以无需外加编程口，但是只可以烧写程序，无法进行在线仿真。</p>
<h3 id="4-2-JTAG模式-amp-SWD模式"><a href="#4-2-JTAG模式-amp-SWD模式" class="headerlink" title="4.2 JTAG模式 &amp; SWD模式"></a>4.2 JTAG模式 &amp; SWD模式</h3><p>JTAG，全称为Joint Test Action Group，联合测试工作组。是一种国际标准测试协议 (IEEE 1149.1兼容)， 主要用于芯片内部测试，早在ARM7上面就已经使用了JTAG作为调试和下载口。</p>
<p>而SWD模式比JTAG 在高速模式下面更加可靠。 在大数据量的情况下面JTAG下载程序会失败, 但是SWD 发生的几率会小很多。基本使用JTAG仿真模式的情况下是可以直接使用SWD模式的。</p>
<p>与 ISP 相比，SWD接口可以与大多数IDE完美兼容，比如IAR，并且可以通过IAR和调试器，进行程序的在线调试，这种调试方法可以直接追踪到当前代码处的各变量状态，寄存器状态等等。</p>
<h2 id="5-Download-Tools"><a href="#5-Download-Tools" class="headerlink" title="5. Download Tools"></a>5. Download Tools</h2><h3 id="5-1-J-LINK"><a href="#5-1-J-LINK" class="headerlink" title="5.1 J-LINK"></a>5.1 J-LINK</h3><p>J-Link是SEGGER公司为支持仿真ARM内核芯片推出的仿真调试工具，支持JTAG和SWD两种模式进行调试。</p>
<h3 id="5-2-U-LINK"><a href="#5-2-U-LINK" class="headerlink" title="5.2 U-LINK"></a>5.2 U-LINK</h3><p>ULINK是由Keil推出的ARM芯片仿真调试工具，是Keil下默认的调试工具，缺点是不支持IAR。<br>ULINK官方提供电路图等资料（半开源资料），可以自行制作仿真调试电路工具。</p>
<h3 id="5-3-ST-LINK"><a href="#5-3-ST-LINK" class="headerlink" title="5.3 ST-LINK"></a>5.3 ST-LINK</h3><p>ST-LINK是由意法半导体开发的仿真调试工具。<br>(ST-LINKV2)适用于STM32与STM8。与STM32连接时支持JTAG与SWD模式，与STM8连接时支持SWIM模式。</p>
<h1 id="二、IDE安装及配置"><a href="#二、IDE安装及配置" class="headerlink" title="二、IDE安装及配置"></a>二、IDE安装及配置</h1><h2 id="1-IAR"><a href="#1-IAR" class="headerlink" title="1. IAR"></a>1. IAR</h2><h2 id="2-MDK"><a href="#2-MDK" class="headerlink" title="2. MDK"></a>2. MDK</h2><h1 id="参考材料"><a href="#参考材料" class="headerlink" title="参考材料"></a>参考材料</h1><ol>
<li>《<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/STMicroelectronics">意法半导体</a>》</li>
<li>《<a target="_blank" rel="noopener" href="http://bbs.eeworld.com.cn/thread-431094-1-1.html">提问+J-LINK、U-LINK和ST-LINK有什么区别？</a>》</li>
<li>《<a target="_blank" rel="noopener" href="https://www.eefocus.com/component/m/398663">JTAG与JLink有啥不同？看完这个你就知道了</a>》</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://islet.space/2019/01/25/Blog/2019-01-25-Hexo%E5%92%8C%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Liewzheng">
      <meta itemprop="description" content="笔记分享的旮旯孤岛而已">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Coder的孤岛">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/25/Blog/2019-01-25-Hexo%E5%92%8C%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/" class="post-title-link" itemprop="url">Hexo和博客评论系统</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2019-01-25 12:00:00 / Modified: 13:54:48" itemprop="dateCreated datePublished" datetime="2019-01-25T12:00:00+08:00">2019-01-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Blog/" itemprop="url" rel="index"><span itemprop="name">Blog</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>为了让大家能在博文下评论两句也是费了老大劲儿了，各种搜评论系统和倒腾。<br>本篇博文在Hexo静态博客系统的基础上添加评论系统。</p>
<h1 id="1-博客评论系统"><a href="#1-博客评论系统" class="headerlink" title="1. 博客评论系统"></a>1. 博客评论系统</h1><p>现在知道的博客评论系统也不多，有所了解的是：<a target="_blank" rel="noopener" href="https://disqus.com/">Disqus</a>和Valine。目前也就只掌握了Disqus系统，下次有空学了其他评论系统的部署之后再来编辑吧。</p>
<h1 id="2-Disqus"><a href="#2-Disqus" class="headerlink" title="2. Disqus"></a>2. Disqus</h1><p>Disqus因为是国外的评论系统，因此最好是常在墙外的人使用，好像支持匿名评论。跟我国互联网的相关法规相违背，因此在国内使用的话，会加载不出来，因为被屏蔽了。当然，如果都是墙外的人，那就无所谓了。<br><strong>注意</strong><br>首先确认一下你的<strong>博客主题</strong>本身已经默认支持Disqus评论系统了，否则你可能会因为不懂js语言而被折腾得半死。至于怎么确认是否支持呢？主题文件夹中的<code>readme.md</code>文件或者<code>_config.yml</code>，看看里面是否有disqus支持字样及相关说明，确认完支持之后请继续下列步骤。<br>对了，如果你翻了墙也打不开Disqus官网，记得在你的SS软件中的PAC配置文件里，讲disqus.com代理相关语句添加进去。同理，如果你点进来看见没有评论系统，那说明你没有科学上网成功啊。</p>
<h2 id="2-1-注册账号"><a href="#2-1-注册账号" class="headerlink" title="2.1 注册账号"></a>2.1 注册账号</h2><ol>
<li>打开Disqus主页， 并点选<code>GET STARTED</code>。<br><img src="http://uk-liewzheng-blog-pic.oss-eu-west-1.aliyuncs.com/2019/01/25/Hexo%E5%92%8C%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/WX20190125-111541.png" alt="Disqus主页"></li>
<li>根据提示注册。<br><img src="http://uk-liewzheng-blog-pic.oss-eu-west-1.aliyuncs.com/2019/01/25/Hexo%E5%92%8C%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/031851.png" alt="Disqus账号注册"></li>
</ol>
<h2 id="2-2-Shortname获取"><a href="#2-2-Shortname获取" class="headerlink" title="2.2 Shortname获取"></a>2.2 Shortname获取</h2><ol>
<li>注册完之后，点选<code>I want to install Disqus on my site</code>网站会提示你输入Website Name。<br>后续我们会用到一个<strong>Shortname</strong>，区别于<strong>Website Name</strong>，Shortname是用来确保后续hexo部署的时候能够准确跟你的账户连接上的。（我当时好像没填Shortname，应该是自动生成的吧~）<br><img src="http://uk-liewzheng-blog-pic.oss-eu-west-1.aliyuncs.com/2019/01/25/Hexo%E5%92%8C%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/032303.png"><br><img src="http://uk-liewzheng-blog-pic.oss-eu-west-1.aliyuncs.com/2019/01/25/Hexo%E5%92%8C%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/032455.png"></li>
<li> 找到Disqus右上角头像处，<code>Install on Site</code>选项。然后在左侧<code>SITE</code>栏目中找到<code>General</code>选项。从这里可以看到要找到Shortname。（下图中被圈中的马赛克部分就是你的Shortname）<br><img src="http://uk-liewzheng-blog-pic.oss-eu-west-1.aliyuncs.com/2019/01/25/Hexo%E5%92%8C%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/032751.png"><br><img src="http://uk-liewzheng-blog-pic.oss-eu-west-1.aliyuncs.com/2019/01/25/Hexo%E5%92%8C%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/034605.png"></li>
</ol>
<h2 id="2-3-config-yml设置"><a href="#2-3-config-yml设置" class="headerlink" title="2.3 _config.yml设置"></a>2.3 _config.yml设置</h2><p>找到你的博客主题<code>/themes/hexo-theme-XXXXX-master/</code>下的<code>_config.yml</code>文件，然后修改或添加如下语句：（下列语句中，XXXXX为你的Shortname）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">disqus_shortname: XXXXX</span><br></pre></td></tr></table></figure>

<h2 id="2-4-commont-ejs编辑"><a href="#2-4-commont-ejs编辑" class="headerlink" title="2.4 commont.ejs编辑"></a>2.4 commont.ejs编辑</h2><ol>
<li>找到与<code>_config.yml</code>文件同级目录底下的<code>layout/_partial/post/</code>中的<code>comment.ejs</code>文件。先复制一份到别处，做备份之用，修改坏了也不着急。然后讲源文件下的所有语句删除，复制以下语句并粘贴（没错，要复制粘贴的这段代码只有两行，因为等下要复制粘贴另外一段代码到这两行代码中间，表示”在非主页的时候执行评论系统“）：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if(!index)&#123; %&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure></li>
<li>找到步骤2.2中的第2步骤里的页面，同为左侧<code>SITE</code>栏目中的<code>Installation</code>，下图所示：<br><img src="http://uk-liewzheng-blog-pic.oss-eu-west-1.aliyuncs.com/2019/01/25/Hexo%E5%92%8C%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/040155.png"><br>然后滑动到底下，点选<code>Universal Code</code>，Disqus会自动生成连接到你账户的代码，复制中间部分的代码。（该区域的代码是有滑动条的，记得<strong>全选复制</strong>！）<br><img src="http://uk-liewzheng-blog-pic.oss-eu-west-1.aliyuncs.com/2019/01/25/Hexo%E5%92%8C%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/040248.png"><br><img src="http://uk-liewzheng-blog-pic.oss-eu-west-1.aliyuncs.com/2019/01/25/Hexo%E5%92%8C%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/040459.png"><br>接着在刚刚的文件中，粘贴到那两行代码中间，完成后如下所示：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if(!index)&#123; %&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;disqus_thread&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line">*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.</span><br><span class="line">*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https:&#x2F;&#x2F;disqus.com&#x2F;admin&#x2F;universalcode&#x2F;#configuration-variables*&#x2F;</span><br><span class="line">&#x2F;*</span><br><span class="line">var disqus_config &#x3D; function () &#123;</span><br><span class="line">this.page.url &#x3D; PAGE_URL;  &#x2F;&#x2F; Replace PAGE_URL with your page&#39;s canonical URL variable</span><br><span class="line">this.page.identifier &#x3D; PAGE_IDENTIFIER; &#x2F;&#x2F; Replace PAGE_IDENTIFIER with your page&#39;s unique identifier variable</span><br><span class="line">&#125;;</span><br><span class="line">*&#x2F;</span><br><span class="line">(function() &#123; &#x2F;&#x2F; DON&#39;T EDIT BELOW THIS LINE</span><br><span class="line">var d &#x3D; document, s &#x3D; d.createElement(&#39;script&#39;);</span><br><span class="line">s.src &#x3D; &#39;https:&#x2F;&#x2F;blog-liewzheng-cn.disqus.com&#x2F;embed.js&#39;;</span><br><span class="line">s.setAttribute(&#39;data-timestamp&#39;, +new Date());</span><br><span class="line">(d.head || d.body).appendChild(s);</span><br><span class="line">&#125;)();</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;noscript&gt;Please enable JavaScript to view the &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;disqus.com&#x2F;?ref_noscript&quot;&gt;comments powered by Disqus.&lt;&#x2F;a&gt;&lt;&#x2F;noscript&gt;</span><br><span class="line"></span><br><span class="line">&lt;script id&#x3D;&quot;dsq-count-scr&quot; src&#x3D;&quot;&#x2F;&#x2F;blog-liewzheng-cn.disqus.com&#x2F;count.js&quot; async&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="2-5-执行"><a href="#2-5-执行" class="headerlink" title="2.5 执行"></a>2.5 执行</h2><p>全部保存，重新运行以下语句便可进行网页预览啦！</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>
<p><img src="http://uk-liewzheng-blog-pic.oss-eu-west-1.aliyuncs.com/2019/01/25/Hexo%E5%92%8C%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/041910.png"></p>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ol>
<li>《<a target="_blank" rel="noopener" href="http://moxfive.xyz/2016/01/02/hexo-comments/">为 Hexo 主题添加评论模块 — Disqus, 多说, 友言</a>》</li>
<li>《<a target="_blank" rel="noopener" href="https://valine.js.org/quickstart.html">快速开始</a>》</li>
<li>《<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/31411607">Hexo Next 主题点击加载 Disqus 和来必力双评论系统</a>》</li>
<li>《<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/d68de067ea74">Hexo搭建博客系列：（六）Hexo添加Disqus评论</a>》</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://islet.space/2019/01/22/Hardware/FreeRTOS/2019-01-22-FreeRTOS%E6%9C%AF%E8%AF%AD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Liewzheng">
      <meta itemprop="description" content="笔记分享的旮旯孤岛而已">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Coder的孤岛">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/22/Hardware/FreeRTOS/2019-01-22-FreeRTOS%E6%9C%AF%E8%AF%AD/" class="post-title-link" itemprop="url">FreeRTOS术语</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-01-22 15:30:00" itemprop="dateCreated datePublished" datetime="2019-01-22T15:30:00+08:00">2019-01-22</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-05-20 22:40:39" itemprop="dateModified" datetime="2021-05-20T22:40:39+08:00">2021-05-20</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/InternetOfThings/" itemprop="url" rel="index"><span itemprop="name">InternetOfThings</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>以下术语解释为本人在学习FreeRTOS途中的整理，大多直接引用了官网的原解释，部分用自己的话进行描述。</p>
<h1 id="1-Task"><a href="#1-Task" class="headerlink" title="1. Task"></a>1. Task</h1><p>Task is used to process a serial of things. A task must be declared as void type and have a void-type pointer parameter , like: <code>void BLE_TASK(void * pvParameters);</code></p>
<p>And when used, it’s used in the function xTaskCreate() with 6 parameters, like: <code>xTaskCreate(BLE_TASK, “BEL_TASK”,4000, NULL, 5, NULL);</code></p>
<ul>
<li>The 1st parameter should be the task you defined, and it only need the name of your task function.</li>
<li>The 2nd parameter is the custom string you made in order to recognize it in the tasks list.</li>
<li>The 3rd parameter is task stack memory it need. <code>MEMORY = STACK DEPTH * STACK WIDTH</code></li>
<li>The 4th parameter is passed to the the task when it need, and it used to be NULL.</li>
<li>The 5th parameter is the priority of the task, the lowest priority is 0, the highest priority is 32. But it always advisable to keep it at the minimum necessary.</li>
<li>The 6th parameter is the return value: pdPASS or pdFAIL.</li>
</ul>
<h1 id="2-Scheduler"><a href="#2-Scheduler" class="headerlink" title="2. Scheduler"></a>2. Scheduler</h1><p>Scheduler is used to manage the tasks. It runs in the tick interrupt and select the highest priority task and bring it into RUNNING-STATE.</p>
<h1 id="3-IDLE-Task"><a href="#3-IDLE-Task" class="headerlink" title="3. IDLE Task"></a>3. IDLE Task</h1><p>IDLE Task is automatically created by the scheduler when vTaskStartScheduler() is called and it is always able to run.</p>
<h1 id="4-Task-State"><a href="#4-Task-State" class="headerlink" title="4. Task State"></a>4. Task State</h1><p>All the task has two big<br>states: <strong>RUNNING-STATE</strong> or <strong>NOT-RUNNING-STATE</strong>. BLOCKED-STATE, SUSPENDED-STATE and SUSPENDED-STATE are NON-RUNNING-STATE.</p>
<p><img src="http://uk-liewzheng-blog-pic.oss-eu-west-1.aliyuncs.com/2019/01/22/%E5%9B%BE%E7%89%871.png" alt="Task State"></p>
<h2 id="4-1-RUNNING-STATE"><a href="#4-1-RUNNING-STATE" class="headerlink" title="4.1 RUNNING-STATE"></a>4.1 RUNNING-STATE</h2><p>When the task is running, it is in the RUNNING-STATE.</p>
<h2 id="4-2-BLOCKED-STATE"><a href="#4-2-BLOCKED-STATE" class="headerlink" title="4.2 BLOCKED-STATE"></a>4.2 BLOCKED-STATE</h2><p>BLOCKED-STATE is a sub-state of NOT-RUNNING STATE.<br>Tasks can enter the BLOCKED-STATE to wait for two different types of event: Temporal Event &amp; Synchronization Events.<br>While in this state, tasks are not able to run, so cannot be selected by the scheduler.</p>
<h2 id="4-3-SUSPENDED-STATE"><a href="#4-3-SUSPENDED-STATE" class="headerlink" title="4.3 SUSPENDED-STATE"></a>4.3 SUSPENDED-STATE</h2><p>SUSPENDED-STATE is a sub-state of NOT-RUNNING STATE.</p>
<h2 id="4-4-READY-STATE"><a href="#4-4-READY-STATE" class="headerlink" title="4.4 READY-STATE"></a>4.4 READY-STATE</h2><p>READY-STATE is a sub-state of NOT-RUNNING STATE.</p>
<h1 id="5-Event"><a href="#5-Event" class="headerlink" title="5. Event"></a>5. Event</h1><p>Event is also called Interrupt. It is originated by the environment and force the embedded system to take action in response to it.</p>
<h1 id="6-Event-drive-task"><a href="#6-Event-drive-task" class="headerlink" title="6. Event-drive task"></a>6. Event-drive task</h1><p>Event-drive task has work after the event that triggers it, and is not able to enter the RUNNING-STATE before that event has occurred.</p>
<h1 id="7-Semaphore-s"><a href="#7-Semaphore-s" class="headerlink" title="7. Semaphore(s)"></a>7. Semaphore(s)</h1><p>(1) Binary Semaphore<br>(2) Counting Semaphore</p>
<h1 id="8-Queue-s"><a href="#8-Queue-s" class="headerlink" title="8. Queue(s)"></a>8. Queue(s)</h1><p>Queue provides a task-to-task, task-to-interrupt, interrupt-to-task communication mechanism.</p>
<h1 id="9-Event-Group-s"><a href="#9-Event-Group-s" class="headerlink" title="9. Event Group(s)"></a>9. Event Group(s)</h1><p>Event groups are another feature of FreeRTOS that allow events to be communicated to tasks.</p>
<h1 id="10-ISR"><a href="#10-ISR" class="headerlink" title="10. ISR"></a>10. ISR</h1><p>Interrupt Service Routine. It is a software process invoked by an interrupt request from a hardware device. It handles the request and sends it to the CPU, interrupting the active process. When the ISR is complete, the process is resumed.</p>
<h1 id="11-Task-amp-Event-Interrupt"><a href="#11-Task-amp-Event-Interrupt" class="headerlink" title="11. Task &amp; Event(Interrupt)"></a>11. Task &amp; Event(Interrupt)</h1><p>A task is a software feature that is unrelated to the hardware on which FreeRTOS is running. The priority of a task is assigned in software by the application writer, and a software algorithm (the scheduler) decides which task will be in the Running state.</p>
<p>Although written in software, an interrupt service routine is a hardware feature because the hardware controls which interrupt service routine will run, and when it will run. Tasks will only run when there are no ISRs running, so the lowest priority interrupt will interrupt the highest priority task, and there is no way for a task to pre-empt an ISR.</p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ol>
<li>&lt;<a target="_blank" rel="noopener" href="https://freertos.org/Documentation/RTOS_book.html">FreeRTOS Documentation</a>&gt;</li>
<li>&lt;<a target="_blank" rel="noopener" href="https://freertos.org/a00106.html">API</a>&gt;</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://islet.space/2019/01/17/Programming/C++/2019-01-17-C++%20-%2010%E8%BF%9B%E5%88%B6%E6%95%B4%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%88%9016%E8%BF%9B%E5%88%B6%E6%98%BE%E7%A4%BA%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Liewzheng">
      <meta itemprop="description" content="笔记分享的旮旯孤岛而已">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Coder的孤岛">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/17/Programming/C++/2019-01-17-C++%20-%2010%E8%BF%9B%E5%88%B6%E6%95%B4%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%88%9016%E8%BF%9B%E5%88%B6%E6%98%BE%E7%A4%BA%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2/" class="post-title-link" itemprop="url">10进制整型转换成16进制显示的字符串</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-01-17 17:30:00" itemprop="dateCreated datePublished" datetime="2019-01-17T17:30:00+08:00">2019-01-17</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-05-23 20:06:19" itemprop="dateModified" datetime="2021-05-23T20:06:19+08:00">2021-05-23</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming/" itemprop="url" rel="index"><span itemprop="name">Programming</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>原文出处：《<a target="_blank" rel="noopener" href="https://blog.csdn.net/ma2595162349/article/details/74590285">十进制数转为十六进制字符串</a>》</p>
<p>本文修改了以上原文的代码，修正了[0-16]区间的10进制数转换成16进制数时无法正确转换的问题。</p>
<p>代码如下：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> Hexadecimal_Code[]=<span class="string">&quot;0123456789ABCDEF&quot;</span>;</span><br><span class="line"><span class="keyword">char</span> str_Temp[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">Decimal_To_Hexadecimal_String</span><span class="params">(<span class="keyword">int</span> Decimal_Data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> High,Low,i=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span>(Decimal_Data &lt;= <span class="number">0</span> || Decimal_Data &gt; <span class="number">255</span>)</span><br><span class="line">		<span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">	High=Decimal_Data &gt;&gt; <span class="number">4</span>;</span><br><span class="line">   	Low=Decimal_Data &amp; <span class="number">15</span>;</span><br><span class="line"></span><br><span class="line">  	str_Temp[i++]=Hexadecimal_Code[High];</span><br><span class="line">	str_Temp[i++]=Hexadecimal_Code[Low];</span><br><span class="line">	str_Temp[i]=<span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> str_Temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,Decimal_To_Hexadecimal_String(<span class="number">5</span>));</span><br><span class="line"></span><br><span class="line">   	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://islet.space/2019/01/14/Hardware/ESP32/2019-01-14-ESP32%E7%9B%B8%E5%85%B3%E6%9C%AF%E8%AF%AD%E6%95%B4%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Liewzheng">
      <meta itemprop="description" content="笔记分享的旮旯孤岛而已">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Coder的孤岛">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/14/Hardware/ESP32/2019-01-14-ESP32%E7%9B%B8%E5%85%B3%E6%9C%AF%E8%AF%AD%E6%95%B4%E7%90%86/" class="post-title-link" itemprop="url">ESP32相关术语整理</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-01-14 15:30:00" itemprop="dateCreated datePublished" datetime="2019-01-14T15:30:00+08:00">2019-01-14</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2019-01-25 16:42:41" itemprop="dateModified" datetime="2019-01-25T16:42:41+08:00">2019-01-25</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/InternetOfThings/" itemprop="url" rel="index"><span itemprop="name">InternetOfThings</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>以下为本人在学习ESP32开发的途中的一些资料整理。</p>
<h1 id="GPIO"><a href="#GPIO" class="headerlink" title="GPIO"></a>GPIO</h1><p>General-purpose input/output，通用型输入输出。其接脚可以供使用者由程控自由使用，PIN脚依现实考量可作为通用输入（GPI）或通用输出（GPO）或通用输入与输出（GPIO），如当clk generator, chip select等。<br>既然一个引脚可以用于输入、输出或其他特殊功能，那么一定有寄存器用来选择这些功能。对于输入，一定可以通过<strong>读取某个寄存器来确定引脚电位的高低</strong> ；对于输出，一定可以通过写入某个寄存器来让这个引脚输出高电位或者低电位；对于其他特殊功能，则有另外的寄存器来控制它们。</p>
<h1 id="Xtensa"><a href="#Xtensa" class="headerlink" title="Xtensa"></a>Xtensa</h1><p>Xtensa 是Tensilica公司的处理器。</p>
<h1 id="OpenOCD"><a href="#OpenOCD" class="headerlink" title="OpenOCD"></a>OpenOCD</h1><p>OpenOCD（Open On-Chip Debugger）开源片上调试器，是一款开源软件，最初是由Dominic Rath同学还在大学期间发起的（2005年）项目。OpenOCD旨在提供针对嵌入式设备的调试、系统编程和边界扫描功能。</p>
<p>OpenOCD的功能是在仿真器的辅助下完成的，仿真器是能够提供调试目标的电信号的小型硬件单元。仿真器是必须的，因为调试主机（运行OpenOCD的主机）通常不具备这种电信号的直接解析功能。</p>
<p>仿真器支持一个或多个传输协议，每个协议涉及不同的电信号，且使用不同的协议栈进行消息传递。市面上有很多种仿真器，并且这些仿真器的命名没有统一的规律。</p>
<p>仿真器有时候会被封装成独立的加密狗，这种称为硬件接口加密狗。一些开发板上面直接集成了硬件接口加密狗，这样可以使开发板通过USB直接连到主机上进行调试。</p>
<p>例如，JTAG仿真器支持JTAG协议的信号，可以用来进行TAPs和目标板子之间符合JTAG协议（IEEE 1149.1）的通讯。TAP（Test Access Port）是处理特殊指令和数据的单元。TAPs在芯片与板子之间和之内以菊花链的形式进行连接。JTAG支持调试和边界扫描。</p>
<p>还有SWD仿真器，这种仿真器支持使用SWD（Serial Wire Debug）信号与一些比较新的ARM芯片进行通讯，而且还可以作为那些同时支持JTAG和SWD的芯片的仿真器。不过SWD仅支持调试，不支持边检扫描。</p>
<p>对于一些芯片，还有专门的编程下载器，这些下载器仅支持擦写FLASH的功能，不支持调试和边界扫描。对于此类专用下载器，OpenOCD暂时并不支持。</p>
<h3 id="加密狗"><a href="#加密狗" class="headerlink" title="加密狗"></a>加密狗</h3><p>OpenOCD目前支持多种类型的硬件加密狗：基于USB的，基于并行端口的，以及其他在内部运行OpenOCD的独立盒子。 请参见第2章[仿真器硬件]，第5页。</p>
<h3 id="GDB调试"><a href="#GDB调试" class="headerlink" title="GDB调试"></a>GDB调试</h3><p>它允许ARM7（ARM7TDMI和ARM720t），ARM9（ARM920T，ARM922T，ARM926EJ-S，ARM966E-S），XScale（PXA25x，IXP42x），Cortex-M3（Stellaris LM3，ST STM32和Energy Micro EFM32）和基于Intel Quark（x10xx）的内核使用GDB协议进行调试。</p>
<h3 id="Flash编程"><a href="#Flash编程" class="headerlink" title="Flash编程"></a>Flash编程</h3><p>擦写FLASH支持外部CFI兼容NOR闪存（Intel和AMD / Spansion命令集）和几个内部闪存（LPC1700，LPC1800，LPC2000，LPC4300，AT91SAM7，AT91SAM3U，STR7x，STR9x，LM3，STM32x和EFM32）。包括各种NAND闪存控制器（LPC3180，Orion，S3C24xx等）的初步支持。</p>
<h2 id="AT指令"><a href="#AT指令" class="headerlink" title="AT指令"></a>AT指令</h2><p>即Attention，AT指令集是从终端设备(Terminal Equipment，TE)或数据终端设备(Data Terminal Equipment，DTE)向终端适配器(Terminal Adapter， TA)或数据电路终端设备AT(Data Circuit Terminal Equipment，DCE)发送的。通过TA，TE发送AT指令来控制移动台(Mobile Station，MS)的功能，与GSM 网络业务进行交互。用户可以通过AT指令进行呼叫、短信、电话本、数据业务、传真等方面的控制。</p>
<h1 id="Measured-Power"><a href="#Measured-Power" class="headerlink" title="Measured Power"></a>Measured Power</h1><p>之所以所有文档都将Measure_Power变量的值定为C5，是因为此处C5为RSSI 在 1m时强度大小。见（RSSI @ 1m [ RSSI at 1 meter ] ）文档《Active Beacon Packet 170512.pdf》。</p>
<p><img src="http://uk-liewzheng-blog-pic.oss-eu-west-1.aliyuncs.com/2019/01/14/%E5%9B%BE%E7%89%871.png" alt="iBeacon Format"></p>
<p>Measure Power 是Beacon距离测量设备1m时的信号强度（0xC5,要求反码）。实际过程中，根据接收到的RSSI值与0xC5（-59dbm）做对比得出当前设备距离，算法由厂商提供，iOS自带算法。</p>
<p><img src="http://uk-liewzheng-blog-pic.oss-eu-west-1.aliyuncs.com/2019/01/14/%E5%9B%BE%E7%89%872.png" alt="Measure Power"></p>
<h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><ol>
<li>《<a target="_blank" rel="noopener" href="https://blog.csdn.net/zqixiao_09/article/details/52506452">AT指令介绍及用法,AT 指令集合</a>》</li>
<li>《<a target="_blank" rel="noopener" href="http://www.warski.org/blog/2014/01/how-ibeacons-work/">How do iBeacons work?</a>》</li>
<li>《<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/GPIO">GPIO</a>》</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://islet.space/2019/01/14/Others/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%20%E6%9C%AF%E8%AF%AD%E6%95%B4%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Liewzheng">
      <meta itemprop="description" content="笔记分享的旮旯孤岛而已">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Coder的孤岛">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/14/Others/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%20%E6%9C%AF%E8%AF%AD%E6%95%B4%E7%90%86/" class="post-title-link" itemprop="url">版本控制术语整理</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-01-14 15:30:00" itemprop="dateCreated datePublished" datetime="2019-01-14T15:30:00+08:00">2019-01-14</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2019-01-24 16:19:44" itemprop="dateModified" datetime="2019-01-24T16:19:44+08:00">2019-01-24</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/InternetOfThings/" itemprop="url" rel="index"><span itemprop="name">InternetOfThings</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>以下为本人在学习开发途中的一些关于版本控制的资料整理。</p>
<h1 id="版本控制"><a href="#版本控制" class="headerlink" title="版本控制"></a>版本控制</h1><p>版本控制（Revision control）是维护工程蓝图的标准作法，能追踪工程蓝图从诞生一直到定案的过程。此外，版本控制也是一种软件工程技巧，借此能在软件开发的过程中，确保由不同人所编辑的同一程序文件都得到同步。</p>
<h2 id="基线（Baseline）"><a href="#基线（Baseline）" class="headerlink" title="基线（Baseline）"></a>基线（Baseline）</h2><p>基线是软件文档或源码（或其它产出物）的一个稳定版本，它是进一步开发的基础。[1]</p>
<h2 id="文件库（Repository）"><a href="#文件库（Repository）" class="headerlink" title="文件库（Repository）"></a>文件库（Repository）</h2><p>存储文件的新版本还有历史数据的地方，通常是在服务器上。有时候也叫Depot（像是在SVK、AccuRev还有Perforce中）</p>
<h2 id="工作复本（Working-copy）"><a href="#工作复本（Working-copy）" class="headerlink" title="工作复本（Working copy）"></a>工作复本（Working copy）</h2><p>从文件库中取出一个本地端（客户端）的复制，针对一个特定的时间或是版本。所有在文件库中的文件更动，都是从一个工作版本中修改而来的，这也是这名称的由来。观念上，这是一个沙盒。</p>
<h2 id="提交（Commit）"><a href="#提交（Commit）" class="headerlink" title="提交（Commit）"></a>提交（Commit）</h2><p>将本地端的修改送回档案库。（由版本控制软件处理“跟上次更动相比，哪个文件又被更动”的事）</p>
<h2 id="变更（Change）"><a href="#变更（Change）" class="headerlink" title="变更（Change）"></a>变更（Change）</h2><p>对一份文件作的特定更动。</p>
<h2 id="变更记录（Change-List）"><a href="#变更记录（Change-List）" class="headerlink" title="变更记录（Change List）"></a>变更记录（Change List）</h2><h2 id="取出（Check-Out）"><a href="#取出（Check-Out）" class="headerlink" title="取出（Check-Out）"></a>取出（Check-Out）</h2><p>从文件库取出文件到本地端（客户端）。</p>
<h2 id="更新（Update）"><a href="#更新（Update）" class="headerlink" title="更新（Update）"></a>更新（Update）</h2><p>将文件库的修改送到本地端（与提交相反）</p>
<h2 id="合并（Merge-Integration）"><a href="#合并（Merge-Integration）" class="headerlink" title="合并（Merge / Integration）"></a>合并（Merge / Integration）</h2><p>合并各个改变。</p>
<h2 id="版次（Revision）"><a href="#版次（Revision）" class="headerlink" title="版次（Revision）"></a>版次（Revision）</h2><p>一个revision或version指的是一系列版本变迁的其中之一。</p>
<h2 id="导入（Import）"><a href="#导入（Import）" class="headerlink" title="导入（Import）"></a>导入（Import）</h2><h2 id="导出（Export）"><a href="#导出（Export）" class="headerlink" title="导出（Export）"></a>导出（Export）</h2><h2 id="冲突（Conflict）"><a href="#冲突（Conflict）" class="headerlink" title="冲突（Conflict）"></a>冲突（Conflict）</h2><p>当两方更动同一份文件会发生冲突。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://islet.space/2019/01/13/Linux/Shell/Shell%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Liewzheng">
      <meta itemprop="description" content="笔记分享的旮旯孤岛而已">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Coder的孤岛">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/01/13/Linux/Shell/Shell%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B/" class="post-title-link" itemprop="url">Shell脚本编程(未完待续)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-01-13 12:00:00" itemprop="dateCreated datePublished" datetime="2019-01-13T12:00:00+08:00">2019-01-13</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2019-03-05 14:16:20" itemprop="dateModified" datetime="2019-03-05T14:16:20+08:00">2019-03-05</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>原文：《<a target="_blank" rel="noopener" href="https://github.com/qinjx/30min_guides/blob/master/shell.md">Shell脚本编程30分钟入门</a>》</p>
<p>首先要安装一个wget插件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install -y wget</span><br><span class="line">yum install -y setup</span><br><span class="line">yum install -y perl</span><br></pre></td></tr></table></figure>

<h1 id="一、Shell脚本"><a href="#一、Shell脚本" class="headerlink" title="一、Shell脚本"></a>一、Shell脚本</h1><h2 id="1-脚本示例"><a href="#1-脚本示例" class="headerlink" title="1. 脚本示例"></a>1. 脚本示例</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;sh</span><br><span class="line">cd ~</span><br><span class="line">mkdir shell_tut</span><br><span class="line">cd shell_tut</span><br><span class="line"></span><br><span class="line">for ((i&#x3D;0; i&lt;10; i++)); do</span><br><span class="line">	touch test_$i.txt</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h2 id="2-代码解释"><a href="#2-代码解释" class="headerlink" title="2. 代码解释"></a>2. 代码解释</h2><ul>
<li>第1行：指定脚本解释器，这里是用/bin/sh做解释器的</li>
<li>第2行：切换到当前用户的home目录</li>
<li>第3行：创建一个目录shell_tut</li>
<li>第4行：切换到shell_tut目录</li>
<li>第6行：循环条件，一共循环10次</li>
<li>第7行：创建一个test_0…9.txt文件</li>
<li>第8行：循环体结束</li>
</ul>
<p>mkdir, touch都是系统自带的程序，一般在/bin或者/usr/bin目录下。for, do, done是sh脚本语言的关键字。</p>
<h1 id="二、Shell相关概念"><a href="#二、Shell相关概念" class="headerlink" title="二、Shell相关概念"></a>二、Shell相关概念</h1><h2 id="1-基础概念"><a href="#1-基础概念" class="headerlink" title="1. 基础概念"></a>1. 基础概念</h2><p><strong>shell</strong> 是指一种应用程序，这个应用程序提供了一个界面，用户通过这个界面访问操作系统内核的服务，Windows Explorer是一个典型的图形界面Shell。</p>
<p><strong>shell脚本</strong> ，shell script，是一种为shell编写的脚本程序。业界所说的shell通常都是指shell脚本。shell和shell script是两个不同的概念。<em>由于习惯的原因，简洁起见，本文出现的“shell编程”都是指shell脚本编程，不是指开发shell自身（如Windows Explorer扩展开发）。</em></p>
<p><strong>sh命令</strong> 是shell命令语言解释器，执行命令从标准输入读取或从一个文件中读取。通过用户输入命令，和内核进行沟通。</p>
<h2 id="2-Shell类型"><a href="#2-Shell类型" class="headerlink" title="2. Shell类型"></a>2. Shell类型</h2><p>如果要查看某一个用户使用的是什么 shell 可以通过 <code>finger [USERNAME]</code>命令来查看。<br><strong>(kt)sh</strong>，Ken Thompson Shell，历史上第一个Unix shell，1971年由肯·汤普逊写作出第一版并加入UNIX之中。它是一个简单的命令行解释器，但不能被用来运行 <em>指令稿</em>（Shell script）。它的许多特征影响了以后命令行界面的发展。至Version 7 Unix之后，被Bourne shell取代。</p>
<p><strong>sh</strong>，Bourne Shell，是Version 7 Unix默认的Unix shell，替代执行文件同为.sh的Thompson shell。</p>
<p><strong>bash</strong> ，Bourne Again Shell，Unix shell的一种，在1987年由布莱恩·福克斯为了GNU计划而编写，与Bourne Shell兼容，还继承了C Shell、Korn Shell等优点。</p>
<p><strong>zsh</strong>， Z shell是一款可用作交互式登录的shell及脚本编写的命令解释器。Zsh对Bourne shell做出了大量改进，同时加入了Bash、ksh及tcsh的某些功能。</p>
<h2 id="3-Shell模式"><a href="#3-Shell模式" class="headerlink" title="3. Shell模式"></a>3. Shell模式</h2><h3 id="3-1-login-shell-和-no-login-shell"><a href="#3-1-login-shell-和-no-login-shell" class="headerlink" title="3.1 login shell 和 no-login shell"></a>3.1 login shell 和 no-login shell</h3><p><strong>login shell</strong> 代表用户登入, 比如使用 <code>su -</code> 命令, 或者用 ssh 连接到某一个服务器上, 都会使用该用户默认 shell 启动 login shell 模式。</p>
<p>该模式下的 shell 会去自动执行 <code>/etc/profile</code> 和 <code>~/.profile</code> 文件, 但不会执行任何的 <code>bashrc</code> 文件, 所以一般在 <code>/etc/profile</code> 或者 <code>~/.profile</code> 里我们会手动去 <code>source bashrc</code> 文件。</p>
<p><strong>no-login shell</strong> 的情况是我们在终端下直接输入 <code>bash</code> 或者 <code>bash -c “CMD”</code> 来启动的 shell。</p>
<p>该模式下是不会自动去运行任何的 <code>profile</code> 文件。</p>
<h3 id="3-2-interactive-shell-和-non-interactive-shell"><a href="#3-2-interactive-shell-和-non-interactive-shell" class="headerlink" title="3.2 interactive shell 和 non-interactive shell"></a>3.2 interactive shell 和 non-interactive shell</h3><p><strong>interactive shell</strong> 是交互式shell, 顾名思义就是用来和用户交互的, 提供了命令提示符可以输入命令。</p>
<p>该模式下会存在一个叫 <code>PS1</code> 的环境变量, 如果还不是 <strong>login shell</strong> 的则会去 <code>source /etc/bash.bashrc</code> 和 <code>~/.bashrc</code> 文件。</p>
<p><strong>non-interactive shell</strong> 则一般是通过 <code>bash -c “CMD”</code> 来执行的bash。</p>
<p>该模式下不会执行任何的 <code>rc</code> 文件 *(不过还存在一种特殊情况这个我之后详细讲述)*。</p>
<h2 id="4-profile和bashrc"><a href="#4-profile和bashrc" class="headerlink" title="4. profile和bashrc"></a>4. profile和bashrc</h2><p>profile用于交互式login shell，bashrc用于交互式non-login shell。系统中存在许多bashrc和profile文件。<br><code>/etc/profile</code>和<code>~/.profile</code>分别对应 <em>所有用户</em> 和 <em>单个用户</em>(bashrc同理)。</p>
<h3 id="4-1-profile"><a href="#4-1-profile" class="headerlink" title="4.1 profile"></a>4.1 profile</h3><p>profile 是用户唯一的用来设置环境变量的地方, 因为用户可以有多个 shell 比如 bash, sh, zsh 之类的, 但像环境变量这种其实只需要在统一的一个地方初始化就可以了, 而这就是 profile。<code>/etc/profile</code>中设定的变量(全局)的可以作用于任何用户，profile文件是在用户登录的时候进行初始化的。</p>
<h3 id="4-2-bashrc"><a href="#4-2-bashrc" class="headerlink" title="4.2 bashrc"></a>4.2 bashrc</h3><p>bashrc 是专门用来给 bash 做初始化的比如用来初始化 bash 的设置, bash 的代码补全, bash 的别名, bash 的颜色. 以此类推也就还会有 shrc, zshrc 这样的文件存在了, 只是 bash 太常用了而已。<code>~/.bashrc</code>等中设定的变量(局部)只能继承<code>/etc/profile</code>中的变量,他们是”父子”关系。(此句话待考究！！！！)</p>
<h1 id="三、环境"><a href="#三、环境" class="headerlink" title="三、环境"></a>三、环境</h1><p>shell编程跟java、php编程一样，只要有一个能编写代码的文本编辑器和一个能解释执行的脚本解释器就可以了。</p>
<h2 id="1-OS"><a href="#1-OS" class="headerlink" title="1. OS"></a>1. OS</h2><p>当前主流的操作系统都支持shell编程，本文档所述的shell编程是指Linux下的shell，讲的基本都是POSIX标准下的功能，所以，也适用于Unix及BSD（如Mac OS）。</p>
<p>Linux默认安装就带了shell解释器。Mac OS不仅带了sh、bash这两个最基础的解释器，还内置了ksh、csh、zsh等不常用的解释器。windows出厂时没有内置shell解释器，需要自行安装，为了同时能用grep, awk, curl等工具，最好装一个<a target="_blank" rel="noopener" href="http://www.cygwin.com/">cygwin</a>或者<a target="_blank" rel="noopener" href="http://www.mingw.org/">mingw</a>来模拟linux环境。</p>
<h2 id="2-脚本解释器"><a href="#2-脚本解释器" class="headerlink" title="2. 脚本解释器"></a>2. 脚本解释器</h2><h3 id="2-1-sh"><a href="#2-1-sh" class="headerlink" title="2.1 sh"></a>2.1 sh</h3><p>即Bourne shell，POSIX（Portable Operating System Interface）标准的shell解释器，它的二进制文件路径通常是/bin/sh，由Bell Labs开发。</p>
<p>本文讲的是sh，如果你使用其它语言用作shell编程，请自行参考相应语言的文档。</p>
<h3 id="2-2-bash"><a href="#2-2-bash" class="headerlink" title="2.2 bash"></a>2.2 bash</h3><p>Bash是Bourne shell的替代品，属GNU Project，二进制文件路径通常是/bin/bash。<em><strong>业界通常混用bash、sh、和shell</strong></em>，比如你会经常在招聘运维工程师的文案中见到：熟悉Linux Bash编程，精通Shell编程。</p>
<p>在CentOS里，/bin/sh是一个指向/bin/bash的符号链接:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@centosraw ~]# ls -l &#x2F;bin&#x2F;*sh</span><br><span class="line">-rwxr-xr-x. 1 root root 903272 Feb 22 05:09 &#x2F;bin&#x2F;bash</span><br><span class="line">-rwxr-xr-x. 1 root root 106216 Oct 17  2012 &#x2F;bin&#x2F;dash</span><br><span class="line">lrwxrwxrwx. 1 root root      4 Mar 22 10:22 &#x2F;bin&#x2F;sh -&gt; bash</span><br></pre></td></tr></table></figure>

<p>但在Mac OS上不是，/bin/sh和/bin/bash是两个不同的文件，尽管它们的大小只相差100字节左右:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">iMac:~ wuxiao$ ls -l &#x2F;bin&#x2F;*sh</span><br><span class="line">-r-xr-xr-x  1 root  wheel  1371648  6 Nov 16:52 &#x2F;bin&#x2F;bash</span><br><span class="line">-rwxr-xr-x  2 root  wheel   772992  6 Nov 16:52 &#x2F;bin&#x2F;csh</span><br><span class="line">-r-xr-xr-x  1 root  wheel  2180736  6 Nov 16:52 &#x2F;bin&#x2F;ksh</span><br><span class="line">-r-xr-xr-x  1 root  wheel  1371712  6 Nov 16:52 &#x2F;bin&#x2F;sh</span><br><span class="line">-rwxr-xr-x  2 root  wheel   772992  6 Nov 16:52 &#x2F;bin&#x2F;tcsh</span><br><span class="line">-rwxr-xr-x  1 root  wheel  1103984  6 Nov 16:52 &#x2F;bin&#x2F;zsh</span><br></pre></td></tr></table></figure>

<h3 id="2-3-高级编程语言"><a href="#2-3-高级编程语言" class="headerlink" title="2.3 高级编程语言"></a>2.3 高级编程语言</h3><p>理论上讲，只要一门语言提供了解释器（而不仅是编译器），这门语言就可以胜任脚本编程，常见的解释型语言都是可以用作脚本编程的，如：Perl、Tcl、Python、PHP、Ruby。Perl是最老牌的脚本编程语言了，Python这些年也成了一些linux发行版的预置解释器。</p>
<p>编译型语言，只要有解释器，也可以用作脚本编程，如C shell是内置的（/bin/csh），Java有第三方解释器Jshell，Ada有收费的解释器AdaScript。</p>
<p>如下是一个PHP Shell Script示例（假设文件名叫test.php）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;php</span><br><span class="line">&lt;?php</span><br><span class="line">for ($i&#x3D;0; $i &lt; 10; $i++)</span><br><span class="line">        echo $i . &quot;\n&quot;;</span><br></pre></td></tr></table></figure>

<p>执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;usr&#x2F;bin&#x2F;php test.php</span><br></pre></td></tr></table></figure>

<p>或者：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +x test.php</span><br><span class="line">.&#x2F;test.php</span><br></pre></td></tr></table></figure>
<p>chmod命令用来变更文件或目录的权限</p>
<h1 id="四、选择Shell编程语言"><a href="#四、选择Shell编程语言" class="headerlink" title="四、选择Shell编程语言"></a>四、选择Shell编程语言</h1><h2 id="1-熟悉-vs-陌生"><a href="#1-熟悉-vs-陌生" class="headerlink" title="1. 熟悉 vs 陌生"></a>1. 熟悉 vs 陌生</h2><p>如果你已经掌握了一门编程语言（如PHP、Python、Java、JavaScript），建议你就直接使用这门语言编写脚本程序，虽然某些地方会有点啰嗦，但你能利用在这门语言领域里的经验（单元测试、单步调试、IDE、第三方类库）。</p>
<p>新增的学习成本很小，只要学会怎么使用shell解释器（Jshell、AdaScript）就可以了。</p>
<h2 id="2-简单-vs-高级"><a href="#2-简单-vs-高级" class="headerlink" title="2. 简单 vs 高级"></a>2. 简单 vs 高级</h2><p>如果你觉得自己熟悉的语言（如Java、C）写shell脚本实在太啰嗦，你只是想做一些备份文件、安装软件、下载数据之类的事情，学着使用sh，bash会是一个好主意。</p>
<p>shell只定义了一个非常简单的编程语言，所以，如果你的脚本程序复杂度较高，或者要操作的数据结构比较复杂，那么还是应该使用Python、Perl这样的脚本语言，或者是你本来就已经很擅长的高级语言。因为sh和bash在这方面很弱，比如说：</p>
<ul>
<li>它的函数只能返回字串，无法返回数组</li>
<li>它不支持面向对象，你无法实现一些优雅的设计模式</li>
<li>它是解释型的，一边解释一边执行，连PHP那种预编译都不是，如果你的脚本包含错误(例如调用了不存在的函数)，只要没执行到这一行，就不会报错</li>
</ul>
<h2 id="3-环境兼容性"><a href="#3-环境兼容性" class="headerlink" title="3. 环境兼容性"></a>3. 环境兼容性</h2><p>如果你的脚本是提供给别的用户使用，使用sh或者bash，你的脚本将具有最好的环境兼容性，perl很早就是linux标配了，python这些年也成了一些linux发行版的标配，至于mac os，它默认安装了perl、python、ruby、php、java等主流编程语言。</p>
<h1 id="五、-第一个Shell脚本"><a href="#五、-第一个Shell脚本" class="headerlink" title="五、 第一个Shell脚本"></a>五、 第一个Shell脚本</h1><h2 id="1-编写"><a href="#1-编写" class="headerlink" title="1. 编写"></a>1. 编写</h2><p>打开文本编辑器，新建一个文件，扩展名为.sh（sh代表shell），扩展名并不影响脚本执行，见名知意就好，如果你用php写shell 脚本，扩展名就用.php好了。</p>
<p>输入一些代码，第一行一般是这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;php</span><br></pre></td></tr></table></figure>
<p>“#!”是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行。</p>
<h2 id="2-运行"><a href="#2-运行" class="headerlink" title="2. 运行"></a>2. 运行</h2><p>运行Shell脚本有两种方法：</p>
<h3 id="2-1-作为可执行程序"><a href="#2-1-作为可执行程序" class="headerlink" title="2.1 作为可执行程序"></a>2.1 作为可执行程序</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +x test.sh</span><br><span class="line">.&#x2F;test.sh</span><br></pre></td></tr></table></figure>
<p><strong>注意</strong><br>一定要写成<code>./test.sh</code>，而不是<code>test.sh</code>，运行其它 <strong>二进制的程序</strong> 也一样，直接写test.sh，linux系统会去PATH里寻找有没有叫test.sh的，而只有/bin, /sbin, /usr/bin，/usr/sbin等在PATH里，<em>你的当前目录通常不在PATH里，所以写成test.sh是会找不到命令的</em>，要用./test.sh告诉系统说，就在当前目录找。<br><code>./</code>表示当前目录。</p>
<p>通过这种方式运行bash脚本，第一行一定要写对，好让系统查找到正确的解释器。</p>
<p>这里的”系统”，其实就是shell这个应用程序（想象一下Windows Explorer），但我故意写成系统，是方便理解，既然这个系统就是指shell，那么一个使用/bin/sh作为解释器的脚本是不是可以省去第一行呢？是的。</p>
<h3 id="2-2-作为解释器参数"><a href="#2-2-作为解释器参数" class="headerlink" title="2.2 作为解释器参数"></a>2.2 作为解释器参数</h3><p>这种运行方式是，直接运行解释器，其参数就是shell脚本的文件名，如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;bin&#x2F;sh test.sh</span><br><span class="line">&#x2F;bin&#x2F;php test.php</span><br></pre></td></tr></table></figure>
<p>这种方式运行的脚本，不需要在第一行指定解释器信息，写了也没用。</p>
<h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><ol>
<li>《<a target="_blank" rel="noopener" href="http://man.linuxde.net/chmod">chmod命令</a>》</li>
<li>《<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Thompson_shell">Thompson shell</a>》</li>
<li>《<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Bourne_shell">Bourne shell</a>》</li>
<li>《<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Bash">bash</a>》</li>
<li>《<a target="_blank" rel="noopener" href="https://wido.me/sunteya/understand-bashrc-and-profile">理解 bashrc 和 profile</a>》</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>
<script src="/js/comments.js"></script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">粤ICP备19004822号 </a>
  </div>

<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Liewzheng</span>
</div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
